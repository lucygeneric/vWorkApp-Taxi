<!DOCTYPE html> 
<html> 
  <head> 
  <title>vWorkApp &bull; Taxi Booking Prototype</title> 
  
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  
  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.0a1/jquery.mobile-1.0a1.min.css" />
  <link rel="stylesheet" href="css/mobiscroll-1.5.2.css" type="text/css" />
  <link rel="stylesheet" href="css/styles.css" />
  
  <!-- remote -->
  <script type="text/javascript" src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
  <script type="text/javascript" src="http://code.jquery.com/mobile/1.0rc2/jquery.mobile-1.0rc2.min.js"></script>
  <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
  <!-- vendor -->
  <script type="text/javascript" src="js/vendor/jquery.cookie.js"></script>
  <script type="text/javascript" src="js/vendor/jquery.ui.map.js"></script>
  <script type="text/javascript" src="js/vendor/jquery.ui.map.overlays.js"></script>
  <script type="text/javascript" src="js/vendor/jquery.ui.map.services.js"></script>
  <script type="text/javascript" src="js/vendor/jquery.ui.map.extensions.js"></script>
  <script type="text/javascript" src="js/vendor/knockout-1.2.1.js"></script>
      
</head> 
<body>

<style type="text/css">

*
{
	margin: 0px;
	padding: 0px;
}

html 
{ 
	height: 100% 
}

body
{ 
	height: 100%; 
	margin: 0px; 
	padding: 0px;
}

#map_canvas 
{ 
	left:200px;
	height: 100%; 
	width: 100%;
}

#shelf
{
	position:fixed; 
	top:0; 
	left:0; 
	height:100%;
	width:200px;
	background:white;
	opacity:1;
}

#draggable {
	position:absolute;
	
	width: 200px; 
	height: 50px;
	z-index:1000000000;
	background: #eee;
	border-bottom: #ddd;
	border-bottom-style: solid;
	border-bottom-width: 1px;
}


</style>



<!- Home page -->
<!- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

<div data-role="page" id="home" data-theme="a" >

	
	<div data-role="content" class="item"> 
		
		<div id='shelf'>
			<div id="draggable" class="ui-draggable">
			
			</div>
		<div>
	
		<div id="map_canvas"></div>		
	</div>
	
	
	
	<!-- this had to be in the containing div..... bug in JQMobile -->
	<script type="text/javascript">
	
		$('#home').live("pageinit", function() {
			vWorkTaxico.generateBaseMap($('#map_canvas'));
			
			document.overlay = new google.maps.OverlayView();
			document.overlay.draw = function() {};
			document.overlay.setMap($("#map_canvas").gmap('get', 'map'));

		});
		
		$('#home').live("pagecreate", function() {
			var height = $("#home").height();
			var width = $("#home").width() - 200;
			$('#map_canvas').height(height);
			$('#map_canvas').width(width);
			google.maps.event.trigger($('#map_canvas'), 'resize');
			
			$("#draggable").draggable({helper: 'clone',
				stop: function(e) {
					var point = new google.maps.Point(e.pageX - 200,e.pageY);
					var ll = document.overlay.getProjection().fromContainerPixelToLatLng(point);
					vWorkTaxico.placeMarker($("#map_canvas"), ll);		    
				}
			});
			
 		});
 		
	</script>

</div>





<!-- vWorkApp -->
  <script type="text/javascript" src="js/vWorkApp/vWorkAppGeo-1.0.0.js"></script>
  <script type="text/javascript" src="js/vWorkApp/vWorkAppUI-1.0.0.js"></script>
  <script type="text/javascript" src="js/vWorkApp/vWorkAppData-1.0.0.js"></script>
  <script type="text/javascript" src="js/vWorkApp/vWorkAppUtils-1.0.0.js"></script>


<script type="text/javascript">

$(document).ready(function() {

	
});
</script>


</body>
</html>

